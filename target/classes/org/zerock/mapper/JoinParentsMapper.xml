<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.zerock.mapper.JoinParentsMapper">

	<select id="getList" resultType="org.zerock.domain.JoinParentsVO">
		select p.userid, p.atgrade, p.username, p.userpw, p.userphone, p.useraddr, p.useremail, p.usertype, c.cunicode, c.classname, c.cname, c.cbirth
		from tb_parents p, tb_child c
		where p.cUnicode = c.cUnicode
	</select>
	
	<!-- insert -->
	<insert id="insert">
		insert into tb_parents(userid, atgrade, cUnicode, username, userpw, userphone, useraddr, useremail, usertype)
		values (#{userId}, #{atGrade}, #{cUnicode}, #{userName}, #{userPw}, #{userPhone}, #{userAddr}, #{userEmail}, #{userType})
	</insert>
	
	<!-- read -->
	<select id="read" resultType="org.zerock.domain.JoinParentsVO">
		select p.userid, p.atgrade, p.username, p.userpw, p.userphone, p.useraddr, p.useremail, p.usertype, p.cunicode, c.classname, c.cname, c.cbirth
		from tb_parents p, tb_child c
		where p.userId = #{userId}
		and p.cUnicode = c.cUnicode
	</select>
	
	<!-- update -->
	<update id="update">
		update tb_parents
		set atgrade = #{atGrade},
		cUnicode = #{cUnicode},
		username = #{userName},
		userpw = #{userPw},
		userphone = #{userPhone},
		useraddr = #{userAddr},
		useremail = #{userEmail}
		where userid = #{userId}
	</update>
	
	<!-- delete -->
	<delete id="delete">
		delete tb_parents where userid = #{userId}
	</delete>
	

</mapper>